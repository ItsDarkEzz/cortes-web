import{r as o,j as e,m as b}from"./vendor-motion-D0gEqtNn.js";import{j as C,u as S,b as m,X as U,a as j,U as _}from"./index-aSmLva6P.js";import{D as p}from"./DashboardLayout-Bpew1iRb.js";import{u as k,a as E}from"./use-user-DfRUr61n.js";import{L as f}from"./settings-BpBPvRo7.js";import{U as L}from"./user-CNcL3bhD.js";import{P as D}from"./pen-Cm4_f3hT.js";import{C as P}from"./check-BSVgkHIg.js";import{C as N}from"./calendar-r31YOpGh.js";import"./vendor-react-Bzgz95E1.js";import"./vendor-ui-Uwvs5CZw.js";const z="/v1";function G(){const{user:s}=C(),{data:a,isLoading:g}=k(),i=E(),[x,d]=o.useState(!1),[l,n]=o.useState({name:"",bio:""});o.useEffect(()=>{s&&n({name:s.name||s.username||"",bio:""})},[s]),S({title:"–ü—Ä–æ—Ñ–∏–ª—å | Cortes AI",description:"–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è",canonical:"/dashboard/profile"});const y=async()=>{l.name!==s?.name&&await i.mutateAsync(l.name),d(!1)},v=()=>{n({name:s?.name||s?.username||"",bio:""}),d(!1)};if(g)return e.jsx(p,{children:e.jsx("div",{className:"flex-1 flex items-center justify-center",children:e.jsx(f,{className:"w-8 h-8 animate-spin text-primary"})})});const h=s?.name||s?.username||"–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å",u=s?.username?`@${s.username}`:`ID: ${s?.id}`,w=s?.created_at?new Date(s.created_at).toLocaleDateString("ru-RU",{day:"numeric",month:"long",year:"numeric"}):"‚Äî",c=s?.id?`${z}/user/avatar/${s.id}`:null;return e.jsxs(p,{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-display font-bold flex items-center gap-2",children:[e.jsx(L,{className:"w-6 h-6 text-primary"}),"–ü—Ä–æ—Ñ–∏–ª—å"]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã–º–∏ –∞–∫–∫–∞—É–Ω—Ç–∞"})]}),x?e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(m,{variant:"outline",onClick:v,className:"border-white/10",disabled:i.isPending,children:[e.jsx(U,{size:16,className:"mr-2"}),"–û—Ç–º–µ–Ω–∞"]}),e.jsxs(m,{onClick:y,className:"bg-green-500 hover:bg-green-600",disabled:i.isPending,children:[i.isPending?e.jsx(f,{size:16,className:"mr-2 animate-spin"}):e.jsx(P,{size:16,className:"mr-2"}),"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å"]})]}):e.jsxs(m,{onClick:()=>d(!0),className:"bg-primary hover:bg-primary/90",children:[e.jsx(D,{size:16,className:"mr-2"}),"–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å"]})]}),e.jsxs("div",{className:"flex-1 grid lg:grid-cols-3 gap-4 min-h-0 overflow-hidden",children:[e.jsxs(b.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"lg:col-span-2 space-y-4 overflow-auto",children:[e.jsx("div",{className:"p-6 rounded-xl bg-gradient-to-br from-primary/20 via-transparent to-secondary/20 border border-white/10",children:e.jsxs("div",{className:"flex items-start gap-6",children:[e.jsx("div",{className:"relative",children:e.jsxs("div",{className:"w-24 h-24 rounded-2xl bg-gradient-to-br from-primary to-secondary flex items-center justify-center overflow-hidden shadow-lg shadow-primary/20",children:[c?e.jsx("img",{src:c,alt:h,className:"w-full h-full object-cover",onError:t=>{t.currentTarget.style.display="none";const r=t.currentTarget.parentElement?.querySelector(".fallback-emoji");r&&r.classList.remove("hidden")}}):null,e.jsx("span",{className:`fallback-emoji text-5xl ${c?"hidden":""}`,children:"üë§"})]})}),e.jsx("div",{className:"flex-1",children:x?e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-muted-foreground mb-1 block",children:"–ò–º—è"}),e.jsx("input",{type:"text",value:l.name,onChange:t=>n(r=>({...r,name:t.target.value})),className:"w-full h-10 px-3 rounded-lg bg-white/5 border border-white/10 text-sm focus:outline-none focus:border-primary/50"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-muted-foreground mb-1 block",children:"–û —Å–µ–±–µ"}),e.jsx("textarea",{value:l.bio,onChange:t=>n(r=>({...r,bio:t.target.value})),rows:2,className:"w-full px-3 py-2 rounded-lg bg-white/5 border border-white/10 text-sm focus:outline-none focus:border-primary/50 resize-none"})]})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex items-center gap-2 mb-1",children:e.jsx("h2",{className:"text-2xl font-bold",children:h})}),e.jsx("p",{className:"text-muted-foreground mb-2",children:u}),e.jsx("p",{className:"text-sm text-white/70",children:l.bio||"–ù–µ—Ç –æ–ø–∏—Å–∞–Ω–∏—è"})]})})]})}),e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsxs("div",{className:"p-4 rounded-xl bg-white/5 border border-white/10 text-center",children:[e.jsx(j,{className:"w-5 h-5 text-blue-400 mx-auto mb-2"}),e.jsx("p",{className:"text-xl font-bold",children:(a?.messages_total??0).toLocaleString()}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"–°–æ–æ–±—â–µ–Ω–∏–π"})]}),e.jsxs("div",{className:"p-4 rounded-xl bg-white/5 border border-white/10 text-center",children:[e.jsx(_,{className:"w-5 h-5 text-primary mx-auto mb-2"}),e.jsx("p",{className:"text-xl font-bold",children:a?.chats_count??0}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"–ß–∞—Ç–æ–≤"})]}),e.jsxs("div",{className:"p-4 rounded-xl bg-white/5 border border-white/10 text-center",children:[e.jsx(N,{className:"w-5 h-5 text-green-400 mx-auto mb-2"}),e.jsx("p",{className:"text-xl font-bold",children:a?.days_active??0}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"–î–Ω–µ–π"})]})]}),e.jsxs("div",{className:"p-4 rounded-xl bg-white/5 border border-white/10",children:[e.jsx("h3",{className:"font-semibold mb-4",children:"–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –∞–∫–∫–∞—É–Ω—Ç–∞"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between py-2 border-b border-white/5",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Telegram ID"}),e.jsx("span",{className:"text-sm font-mono",children:s?.id??"‚Äî"})]}),e.jsxs("div",{className:"flex justify-between py-2 border-b border-white/5",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Username"}),e.jsx("span",{className:"text-sm",children:u})]}),e.jsxs("div",{className:"flex justify-between py-2 border-b border-white/5",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"–î–Ω–µ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏"}),e.jsx("span",{className:"text-sm",children:a?.days_active??0})]}),e.jsxs("div",{className:"flex justify-between py-2",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"–î–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏"}),e.jsxs("span",{className:"text-sm flex items-center gap-1",children:[e.jsx(N,{size:12}),w]})]})]})]})]}),e.jsxs(b.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},className:"space-y-4",children:[e.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-br from-blue-500/20 to-cyan-500/20 border border-blue-500/20",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-blue-500/20 flex items-center justify-center",children:e.jsx(j,{className:"w-6 h-6 text-blue-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold",children:(a?.messages_total??0).toLocaleString()}),e.jsx("p",{className:"text-xs text-blue-400",children:"–í—Å–µ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏–π"})]})]}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:["–ê–∫—Ç–∏–≤–µ–Ω –≤ ",a?.chats_count??0," —á–∞—Ç–∞—Ö"]})]}),e.jsxs("div",{className:"p-4 rounded-xl bg-white/5 border border-white/10",children:[e.jsx("h3",{className:"font-semibold text-sm mb-3",children:"–ö–≤–µ—Å—Ç—ã"}),e.jsxs("div",{className:"text-center py-4",children:[e.jsx("p",{className:"text-3xl font-bold text-primary",children:a?.quests_completed??0}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"–í—ã–ø–æ–ª–Ω–µ–Ω–æ –∫–≤–µ—Å—Ç–æ–≤"})]})]})]})]})]})}export{G as default};
